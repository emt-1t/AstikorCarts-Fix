# AstikorCarts Fix v1.0.0 - 首个发布版本

**作者**: shiroha  
**基于**: 原版 AstikorCarts by MennoMax

## 🎵 主要新功能

### 马车滚动声音系统
这个版本为 AstikorCarts Fix 添加了完整的马车滚动声音功能，这是原版 AstikorCarts 所缺少的重要特性。

#### ✨ 功能特点
- **动态音效调整**：声音音量和音调根据马车移动速度实时调整
- **平滑音效过渡**：使用插值算法确保声音变化自然流畅
- **智能声音管理**：马车停止时声音自动淡出，避免突然中断
- **循环播放系统**：使用专门的循环声音类，确保连续播放效果

## 🔧 修复的问题

### 声音检测问题
- **问题**：原始的 `getDeltaMovement()` 方法无法正确检测马车移动
- **解决**：改用实际位置变化计算移动距离

### 重音问题
- **问题**：多个声音实例同时播放导致重音效果
- **解决**：实现单一声音实例管理，避免重复播放

### 声音抽搐问题
- **问题**：地面拖动时声音频繁变化，产生抽搐效果
- **解决**：
  - 累积移动距离检测，避免微小变化影响
  - 忽略Y轴变化，只关注水平移动
  - 增加音效更新间隔，减少频繁调整

## 🎯 技术实现

### 新增文件
- `CartRollingSound.java` - 循环声音管理类
- `rolling.ogg` - 马车滚动声音文件
- `logo.png` - 自定义mod图标

### 核心算法
```java
// 平滑音效调整
this.volume = Mth.lerp(0.05F, this.volume, targetVolume);
this.pitch = Mth.lerp(0.05F, this.pitch, targetPitch);

// 稳定移动检测
double avgMovement = accumulatedMovement / 5.0;
```

## 🎮 使用体验

### 如何体验新功能
1. 放置任意类型的马车
2. 使用动物（牛、马、羊等）拖拽马车
3. 移动时会听到根据速度变化的滚动声音
4. 停止时声音会自然淡出

### 兼容性
- ✅ 完全向后兼容
- ✅ 不影响现有功能
- ✅ 支持所有马车类型
- ✅ 适用于飞行和地面拖动

## 📦 安装说明

1. 下载 `astikorcarts-fix-1.20.x-1.0.0.jar`
2. 将文件放入 `mods` 文件夹
3. 启动游戏即可体验新的声音功能

## 🙏 致谢

感谢社区用户的反馈和建议，帮助我们发现并修复了声音系统的各种问题。

---

**下载链接**: [GitHub Releases](https://github.com/shiroha/astikor-carts-fix/releases/tag/v1.0.0)
